<!DOCTYPE html>
<html :class="{ 'theme-dark': dark }" x-data="data()" lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WA-GO Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="./assets/css/tailwind.output.css" />
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
    <script src="./assets/js/init-alpine.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" defer></script>
    <script src="./assets/js/charts-lines.js" defer></script>
    <script src="./assets/js/charts-pie.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
    <div class="flex h-screen bg-gray-50 dark:bg-gray-900" :class="{ 'overflow-hidden': isSideMenuOpen }">
        <!-- Desktop sidebar -->
        <aside class="z-20 hidden w-64 overflow-y-auto bg-white dark:bg-gray-800 md:block flex-shrink-0">
            <div class="py-4 text-gray-500 dark:text-gray-400">
                <a class="ml-6 text-lg font-bold text-gray-800 dark:text-gray-200" href="#">
                    WA-GO
                </a>
                <ul class="mt-6">
                    <li class="relative px-6 py-3">

                        <a class="inline-flex items-center w-full text-sm font-semibold text-gray-800 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200 dark:text-gray-100"
                            href="index.html">
                            <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6">
                                </path>
                            </svg>
                            <span class="ml-4">Dashboard</span>
                        </a>
                    </li>
                </ul>
                <ul>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="admin.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M17 20h5v-2a3 3 0 00-5.356-1.857M9 11a4 4 0 110-8 4 4 0 010 8zm0 0v1a4 4 0 004 4h4" />
                            </svg>
                            <span class="ml-4">Admin</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="tracking.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M9 20l-5.447-2.724A2 2 0 013 15.382V6a2 2 0 012-2h14a2 2 0 012 2v9.382a2 2 0 01-1.553 1.894L15 20V10l-3 3-3-3v10z" />
                            </svg>
                            <span class="ml-4">Tracking</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <span class="absolute inset-y-0 left-0 w-1 bg-teal-500 rounded-tr-lg rounded-br-lg"
                            aria-hidden="true"></span>
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="pretext.html">
                            <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122">
                                </path>
                            </svg>
                            <span class="ml-4">PreText</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="campaign.html">
                            <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">
                                </path>
                            </svg>
                            <span class="ml-4">Campaign</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="addons.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.518 4.674a1 1 0 00.95.69h4.918c.969 0 1.371 1.24.588 1.81l-3.977 2.89a1 1 0 00-.364 1.118l1.518 4.674c.3.921-.755 1.688-1.54 1.118l-3.977-2.89a1 1 0 00-1.176 0l-3.977 2.89c-.784.57-1.838-.197-1.539-1.118l1.518-4.674a1 1 0 00-.364-1.118l-3.977-2.89c-.783-.57-.38-1.81.588-1.81h4.918a1 1 0 00.95-.69l1.518-4.674z" />
                            </svg>
                            <span class="ml-4">AddOns</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="setting.html">
                            <svg class="w-4 h-4 mr-3" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z">
                                </path>
                                <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            <span class="ml-4">Setting</span>
                        </a>
                    </li>
                </ul>

            </div>
        </aside>
        <!-- Mobile sidebar -->
        <!-- Backdrop -->
        <div x-show="isSideMenuOpen" x-transition:enter="transition ease-in-out duration-150"
            x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
            x-transition:leave="transition ease-in-out duration-150" x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0"
            class="fixed inset-0 z-10 flex items-end bg-black bg-opacity-50 sm:items-center sm:justify-center"></div>
        <aside class="fixed inset-y-0 z-20 flex-shrink-0 w-64 mt-16 overflow-y-auto bg-white dark:bg-gray-800 md:hidden"
            x-show="isSideMenuOpen" x-transition:enter="transition ease-in-out duration-150"
            x-transition:enter-start="opacity-0 transform -translate-x-20" x-transition:enter-end="opacity-100"
            x-transition:leave="transition ease-in-out duration-150" x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0 transform -translate-x-20" @click.away="closeSideMenu"
            @keydown.escape="closeSideMenu">
            <div class="py-4 text-gray-500 dark:text-gray-400">
                <a class="ml-6 text-lg font-bold text-gray-800 dark:text-gray-200" href="#">
                    WA-Go
                </a>
                <ul class="mt-6">
                    <li class="relative px-6 py-3">

                        <a class="inline-flex items-center w-full text-sm font-semibold text-gray-800 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200 dark:text-gray-100"
                            href="index.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M3 9.75L12 4l9 5.75M4.5 10.5v8.25A1.5 1.5 0 006 20.25h3.75v-5.25h4.5v5.25H18a1.5 1.5 0 001.5-1.5V10.5" />
                            </svg>
                            <span class="ml-4">Dashboard</span>
                        </a>
                    </li>
                </ul>
                <ul>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="admin.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M17 20h5v-2a3 3 0 00-5.356-1.857M9 11a4 4 0 110-8 4 4 0 010 8zm0 0v1a4 4 0 004 4h4" />
                            </svg>
                            <span class="ml-4">Admin</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="tracking.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M9 20l-5.447-2.724A2 2 0 013 15.382V6a2 2 0 012-2h14a2 2 0 012 2v9.382a2 2 0 01-1.553 1.894L15 20V10l-3 3-3-3v10z" />
                            </svg>
                            <span class="ml-4">Tracking</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <span class="absolute inset-y-0 left-0 w-1 bg-teal-500 rounded-tr-lg rounded-br-lg"
                            aria-hidden="true"></span>
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="pretext.html">
                            <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122">
                                </path>
                            </svg>
                            <span class="ml-4">PreText</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="campaign.html">
                            <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">
                                </path>
                            </svg>
                            <span class="ml-4">Campaign</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="modals.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.518 4.674a1 1 0 00.95.69h4.918c.969 0 1.371 1.24.588 1.81l-3.977 2.89a1 1 0 00-.364 1.118l1.518 4.674c.3.921-.755 1.688-1.54 1.118l-3.977-2.89a1 1 0 00-1.176 0l-3.977 2.89c-.784.57-1.838-.197-1.539-1.118l1.518-4.674a1 1 0 00-.364-1.118l-3.977-2.89c-.783-.57-.38-1.81.588-1.81h4.918a1 1 0 00.95-.69l1.518-4.674z" />
                            </svg>
                            <span class="ml-4">AddOns</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="modals.html">
                            <svg class="w-4 h-4 mr-3" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z">
                                </path>
                                <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            <span class="ml-4">Setting</span>
                        </a>
                    </li>


                </ul>


            </div>
        </aside>
        <div class="flex flex-col flex-1 w-full">
            <header class="z-10 py-4 bg-white shadow-md dark:bg-gray-800">
                <div
                    class="container flex items-center justify-between h-full px-6 mx-auto text-teal-600 dark:text-teal-300">
                    <!-- Mobile hamburger -->
                    <button class="p-1 mr-5 -ml-1 rounded-md md:hidden focus:outline-none focus:shadow-outline-teal"
                        @click="toggleSideMenu" aria-label="Menu">
                        <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
                                clip-rule="evenodd"></path>
                        </svg>
                    </button>

                    <ul class="flex items-center flex-shrink-0 space-x-6 ml-auto">
                        <!-- Theme toggler -->
                        <li class="flex">
                            <button class="rounded-md focus:outline-none focus:shadow-outline-teal" @click="toggleTheme"
                                aria-label="Toggle color mode">
                                <template x-if="!dark">
                                    <svg class="w-5 h-5" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z">
                                        </path>
                                    </svg>
                                </template>
                                <template x-if="dark">
                                    <svg class="w-5 h-5" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd"
                                            d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                                            clip-rule="evenodd"></path>
                                    </svg>
                                </template>
                            </button>
                        </li>
                        <!-- Notifications menu -->

                        <!-- Profile menu -->
                        <li class="relative">
                            <span id="usernameDisplay"
                                class="text-sm font-medium text-gray-700 dark:text-gray-200"></span>
                            <button class="align-middle rounded-full focus:shadow-outline-teal focus:outline-none"
                                @click="toggleProfileMenu" @keydown.escape="closeProfileMenu" aria-label="Account"
                                aria-haspopup="true">
                                <img class="object-cover w-8 h-8 rounded-full" src="assets/img/img.jpg" alt=""
                                    aria-hidden="true" />
                            </button>
                            <template x-if="isProfileMenuOpen">
                                <ul x-transition:leave="transition ease-in duration-150"
                                    x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
                                    @click.away="closeProfileMenu" @keydown.escape="closeProfileMenu"
                                    class="absolute right-0 w-56 p-2 mt-2 space-y-2 text-gray-600 bg-white border border-gray-100 rounded-md shadow-md dark:border-gray-700 dark:text-gray-300 dark:bg-gray-700"
                                    aria-label="submenu">
                                    <li class="flex">
                                        <a class="inline-flex items-center w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800 dark:hover:bg-gray-800 dark:hover:text-gray-200"
                                            href="#">
                                            <svg class="w-4 h-4 mr-3" aria-hidden="true" fill="none"
                                                stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                viewBox="0 0 24 24" stroke="currentColor">
                                                <path
                                                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z">
                                                </path>
                                            </svg>
                                            <span>Profile</span>
                                        </a>
                                    </li>
                                    <li class="flex">
                                        <a class="inline-flex items-center w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800 dark:hover:bg-gray-800 dark:hover:text-gray-200"
                                            href="#">
                                            <svg class="w-4 h-4 mr-3" aria-hidden="true" fill="none"
                                                stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                viewBox="0 0 24 24" stroke="currentColor">
                                                <path
                                                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z">
                                                </path>
                                                <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                            </svg>
                                            <span>Settings</span>
                                        </a>
                                    </li>
                                    <li class="flex">
                                        <a class="inline-flex items-center w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800 dark:hover:bg-gray-800 dark:hover:text-gray-200"
                                            href="javascript:void(0);" onclick="logout()">
                                            <svg class="w-4 h-4 mr-3" aria-hidden="true" fill="none"
                                                stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                viewBox="0 0 24 24" stroke="currentColor">
                                                <path
                                                    d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1">
                                                </path>
                                            </svg>
                                            <span>Log out</span>
                                        </a>
                                    </li>
                                </ul>
                            </template>
                        </li>
                    </ul>
                </div>
            </header>
            <div class="bg-white px-6 py-4 flex items-center justify-between shadow-sm">
                <!-- Kiri: Judul -->
                <h1 class="text-2xl font-semibold text-gray-800">PreText</h1>

                <!-- Kanan: Breadcrumb -->
                <nav class="text-sm text-teal-600 space-x-1">
                    <a href="#" class="hover:underline">WA-Go!</a>
                    <span>/</span>
                    <span class="text-gray-500">PreText</span>
                </nav>
            </div>
            <main class="h-full px-1 py-6 pb-16 overflow-y-auto">
                <div class="container px-6 mx-auto grid">
                    <!-- Notifikasi -->
                    <div id="adminAlert"
                        class="relative bg-teal-50 text-gray-700 rounded-lg mb-6 overflow-hidden shadow-md focus:outline-none focus:shadow-outline-teal">
                        <button onclick="document.getElementById('adminAlert').remove()"
                            class="absolute top-0 right-0 mt-2 mr-2 text-gray-600 hover:text-gray-200 text-xl font-bold focus:outline-none"
                            aria-label="Close">
                            &times;
                        </button>
                        <div class="p-6">
                            <h2 class="text-2xl font-bold">PreText Module</h2>
                            <p class="mt-2 text-sm">
                                PreText Module adalah fitur yang memungkinkan pengguna untuk membuat dan mengelola pesan
                                template atau teks pembuka yang dapat digunakan secara fleksibel dalam kampanye atau
                                komunikasi bisnis. Modul ini membantu pengguna membuat pretext khusus yang bisa langsung
                                disisipkan di berbagai media seperti pesan promosi, email, atau platform marketing
                                lainnya.
                                Modul ini dirancang untuk membantu pengguna dalam mengoptimalkan interaksi dengan
                                audiens,
                                meningkatkan efisiensi proses komunikasi, dan memperkuat pesan yang disampaikan melalui
                                berbagai saluran promosi.
                            </p>
                        </div>
                    </div>

                    <!-- Kontrol Atas -->
                    <div class="flex justify-between items-center mb-4">
                        <button onclick="openModal('modalCreate')"
                            class="mt-4 bg-white text-teal-600 px-4 py-2 rounded shadow hover:bg-gray-100 text-sm font-medium">
                            + Add New PreText
                        </button>
                        <input type="text" id="searchInput" placeholder="Cari Data Produk"
                            class="border border-gray-300 rounded px-4 py-2 w-1/3 focus:outline-none focus:ring-2 focus:ring-teal-500">
                        <div id="searchLoader" class="flex items-center space-x-2 mt-2 hidden">
                            <div
                                class="w-5 h-5 border-4 border-blue-500 border-t-transparent rounded-full animate-spin">
                            </div>
                            <span class="text-sm text-gray-500">Mencari...</span>
                        </div>
                    </div>

                    <!-- Tabel tracking-->
                    <div class="w-full overflow-hidden rounded-lg shadow-xs">
                        <div class="w-full overflow-x-auto">
                            <table class="min-w-full w-full table-auto">
                                <thead>
                                    <tr
                                        class="text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b dark:border-gray-700 bg-teal-50 dark:text-gray-400 dark:bg-gray-800">
                                        <th class="py-3 px-6 text-center">No.</th>
                                        <th class="py-3 px-6 text-center">Dekripsi</th>
                                        <th class="py-3 px-6 text-center">PreText</th>
                                        <th class="py-3 px-6 text-center">Status</th>
                                        <th class="py-3 px-6 text-center">Action</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y dark:divide-gray-700 dark:bg-gray-800"
                                    id="pretextTableBody">
                                    <tr class="text-gray-700 dark:text-gray-400">
                                        <td colspan="5" class="text-center py-4 text-gray-500">Loading...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Footer Info -->
                    <div class="mt-4 flex justify-between items-center text-sm text-gray-500">
                        <div>Total Data: <span id="totalData">0</span></div>
                        <div id="paginationControls" class="flex space-x-1"></div>
                    </div>
                </div>

                <!-- Modal Tambah Data -->
                <div id="modalCreate"
                    class="fixed inset-0 bg-black bg-opacity-50 hidden  flex items-center justify-center  z-50">
                    <div
                        class="bg-white p-6 rounded-lg w-full max-w-lg shadow-lg relative transform transition-all duration-300 scale-95 opacity-0">
                        <button onclick="closeModal('modalCreate')"
                            class="absolute top-2 right-2 text-gray-500 hover:text-gray-700">
                            ✕
                        </button>
                        <h2 class="text-2xl font-semibold text-center mb-6">Create New Data</h2>
                        <form id="createPretextForm">
                            <!-- Deskripsi -->
                            <div class="mb-4">
                                <label for="create_description"
                                    class="block text-sm font-medium text-gray-700 mb-1">Deskripsi</label>
                                <input type="text" id="create_description" name="description"
                                    placeholder="Enter Deskripsi"
                                    class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    required>
                            </div>

                            <!-- Konten -->
                            <div class="mb-4">
                                <label for="create_text"
                                    class="block text-sm font-medium text-gray-700 mb-1">Konten</label>
                                <input type="text" id="create_text" name="text" placeholder="Content"
                                    class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    required>
                            </div>


                            <!-- Status  -->


                            <!-- Buttons -->
                            <div class="flex justify-center mt-6">
                                <button type="submit"
                                    class="bg-indigo-500 hover:bg-indigo-600 text-white font-semibold px-6 py-2 rounded-lg mr-3 transition">
                                    Save
                                </button>
                                <button type="button" onclick="closeModal('modalCreate')"
                                    class="bg-gray-500 hover:bg-gray-600 text-white font-semibold px-6 py-2 rounded-lg transition">
                                    Cancel
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- MODAL EDIT -->

                <div id="modalEdit"
                    class="fixed inset-0 bg-black bg-opacity-50 hidden flex justify-center items-center z-50">
                    <div
                        class="bg-white p-6 rounded-lg w-full max-w-lg shadow-lg relative transform transition-all duration-300 scale-95 opacity-0">
                        <button onclick="closeModal('modalEdit')"
                            class="absolute top-2 right-2 text-gray-500 hover:text-gray-700">✕</button>
                        <h2 class="text-2xl font-semibold text-center mb-6">Edit Data Pretext</h2>
                        <form id="editPretextForm">
                            <input type="hidden" id="Pretext_id">
                            <div class="mb-4">
                                <label for="edit_description"
                                    class="block text-sm font-medium text-gray-700 mb-1">Deskripsi</label>
                                <input type="text" id="edit_description" name="edit_description"
                                    class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    required>
                            </div>
                            <div class="mb-4">
                                <label for="edit_text"
                                    class="block text-sm font-medium text-gray-700 mb-1">Konten</label>
                                <input type="text" id="edit_text" name="edit_text" placeholder="Content"
                                    class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    required>
                            </div>



                            <text_div class="flex justify-center mt-6">
                                <button type="submit"
                                    class="bg-indigo-500 hover:bg-indigo-600 text-white font-semibold px-6 py-2 rounded-lg mr-3 transition">Update</button>
                                <button type="button" onclick="closeModal('modalEdit')"
                                    class="bg-gray-500 hover:bg-gray-600 text-white font-semibold px-6 py-2 rounded-lg transition">Cancel</button>
                        </form>
                    </div>
                </div>
        </div>
        <!-- Tambahkan ke dalam file HTML (misalnya dekat akhir body atau dalam elemen tertentu) -->
        <div id="searchLoader" class="flex justify-center py-4 hidden">
            <svg class="animate-spin h-6 w-6 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none"
                viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor"
                    d="M4 12a8 8 0 018-8v4l3.5-3.5L12 0v4a8 8 0 010 16v-4l-3.5 3.5L12 24v-4a8 8 0 01-8-8z">
                </path>
            </svg>
        </div>

        <script>
            // ==== DATA & PAGINATION ====
            let allpretextData = [];
            let filteredpretextData = [];
            let currentPage = 1;
            const pageSize = 5;

            async function fetchpretextData() {
                let page = 1;
                let hasMore = true;
                allpretextData = [];

                try {
                    while (hasMore) {
                        const res = await fetch(`https://dev.katib.cloud/table/pretextwago/4409/${page}`, {
                            headers: { 'Authorization': 'Bearer DpacnJf3uEQeM7HN' }
                        });

                        if (!res.ok) throw new Error(`Gagal ambil data halaman ${page}`);

                        const result = await res.json();
                        const data = result.tableData || [];

                        allpretextData.push(...data);
                        hasMore = data.length === 10;
                        page++;
                    }

                    filteredpretextData = [...allpretextData];
                    currentPage = 1;
                    renderTablePage();
                    renderPagination(filteredpretextData);

                } catch (err) {
                    console.error('Fetch error:', err);
                    document.getElementById('pretextTableBody').innerHTML = `
            <tr><td colspan="6" class="text-center py-4 text-red-500">Gagal memuat data</td></tr>
        `;
                }
            }


            function renderTablePage() {
                const tableBody = document.getElementById('pretextTableBody');
                tableBody.innerHTML = '';

                const start = (currentPage - 1) * pageSize;
                const end = start + pageSize;
                const currentData = filteredpretextData.slice(start, end);

                if (!currentData.length) {
                    tableBody.innerHTML = `
            <tr><td colspan="6" class="text-center py-4">Data tidak ditemukan</td></tr>
        `;
                    return;
                }

                currentData.forEach((p, i) => {
                    tableBody.insertAdjacentHTML('beforeend', `
            <tr class="text-gray-700 dark:text-gray-400 border-b hover:bg-gray-100 transition">
                <td class="py-3 px-4 text-center">${start + i + 1}</td>
                <td class="py-3 px-4 text-left">${p.description}</td>
                <td class="py-3 px-4 text-left">${p.text}</td>
                <td class="py-3 px-4 text-center">
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" ${p.status === "on" ? 'checked' : ''} onchange="toggleStatus(${p.text_id}, this.checked)" class="sr-only peer">
                            <div class="w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-green-500 
                                rounded-full peer-checked:bg-green-500 transition-colors duration-300"></div>
                            <div class="absolute left-1 top-1 bg-white w-4 h-4 rounded-full 
                                transition-transform duration-300 transform peer-checked:translate-x-5"></div>
                        </label>
                    </td>
               
                <td class="py-3 px-4 text-center flex gap-2 justify-center">
                  <button onclick="editpretext(${p.text_id})" class="flex items-center justify-between px-2 py-2 text-sm font-medium leading-5 text-blue-600 rounded-lg dark:text-gray-400 focus:outline-none focus:shadow-outline-gray"
                            aria-label="Edit transition">
                       <svg
                              class="w-5 h-5"
                              aria-hidden="true"
                              fill="currentColor"
                              viewBox="0 0 20 20"
                            >
                              <path
                                d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"
                              ></path>
                            </svg>
                    </button>
                    <button onclick="deletepretext(${p.text_id})" class="flex items-center justify-between px-2 py-2 text-sm font-medium leading-5 text-red-600 rounded-lg dark:text-gray-400 focus:outline-none focus:shadow-outline-gray">
                        <svg
                              class="w-5 h-5"
                              aria-hidden="true"
                              fill="currentColor"
                              viewBox="0 0 20 20"
                            >
                              <path
                                fill-rule="evenodd"
                                d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                                clip-rule="evenodd"
                              ></path>
                            </svg>
                    </button>
                </td>
            </tr>
        `);
                });

                document.getElementById('totalData').textContent = filteredpretextData.length;
            }


            function renderPagination(data) {
                const container = document.getElementById('paginationControls');
                container.innerHTML = '';
                const totalPages = Math.ceil(data.length / pageSize);

                const makeBtn = (text, disabled, cb, active = false) => {
                    const btn = document.createElement('button');
                    btn.innerText = text;
                    btn.disabled = disabled;
                    btn.className = `px-3 py-1 border rounded ${active ? 'bg-teal-600 text-white' : 'hover:bg-gray-100'}`;
                    btn.onclick = cb;
                    container.appendChild(btn);
                };

                makeBtn('Prev', currentPage === 1, () => {
                    currentPage--;
                    renderTablePage();
                    renderPagination(data);
                });

                for (let i = 1; i <= totalPages; i++) {
                    makeBtn(i, false, () => {
                        currentPage = i;
                        renderTablePage();
                        renderPagination(data);
                    }, i === currentPage);
                }

                makeBtn('Next', currentPage === totalPages, () => {
                    currentPage++;
                    renderTablePage();
                    renderPagination(data);
                });
            }

            // ==== SEARCH ====
            document.getElementById('searchInput').addEventListener('input', function () {
                const q = this.value.toLowerCase();
                document.getElementById('pretextTableBody').innerHTML = `
            <tr><td colspan="6" class="text-center py-4">Mencari data...</td></tr>
        `;

                setTimeout(() => {
                    filteredpretextData = allpretextData.filter(p =>
                        p.description.toLowerCase().includes(q) ||
                        p.text.toLowerCase().includes(q)
                    );
                    currentPage = 1;
                    renderTablePage();
                    renderPagination(filteredpretextData);
                }, 300);
            });

            // ==== CREATE ====
            document.getElementById('createPretextForm').addEventListener('submit', async function (e) {
                e.preventDefault();
                const description = document.getElementById('create_description').value.trim();
                const text = document.getElementById('create_text').value.trim();
                if (!description || !text) return showPopupError('Semua kolom wajib diisi.');

                try {
                    const res = await fetch('https://dev.katib.cloud/add/pretextwago/', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': 'Bearer DpacnJf3uEQeM7HN'
                        },
                        body: JSON.stringify({ owner_id: 4409, description, text })
                    });

                    const result = await res.json();
                    if (res.ok) {
                        showPopupSuccess('Data berhasil disimpan!');
                        await fetchpretextData();
                        closeModal('modalCreate');
                    } else {
                        showPopupError(result.message || 'Terjadi kesalahan.');
                    }
                } catch (err) {
                    console.error(err);
                    showPopupError('Gagal menyimpan data.');
                }
            });

            // ==== EDIT ====
            function editpretext(id) {
                const data = allpretextData.find(p => p.text_id === id);
                if (!data) return showPopupError('Data tidak ditemukan.');
                document.getElementById('Pretext_id').value = data.text_id;
                document.getElementById('edit_description').value = data.description;
                document.getElementById('edit_text').value = data.text;
                openModal('modalEdit');
            }

            document.getElementById('editPretextForm').addEventListener('submit', async function (e) {
                e.preventDefault();
                const id = document.getElementById('Pretext_id').value;
                const description = document.getElementById('edit_description').value.trim();
                const text = document.getElementById('edit_text').value.trim();
                if (!description || !text) return showPopupError('Semua kolom wajib diisi.');

                try {
                    const res = await fetch(`https://dev.katib.cloud/update/pretextwago/${id}`, {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': 'Bearer DpacnJf3uEQeM7HN'
                        },
                        body: JSON.stringify({ owner_id: 4409, description, text })
                    });

                    const result = await res.json();
                    if (res.ok) {
                        showPopupSuccess('Data berhasil diperbarui!');
                        await fetchpretextData();
                        closeModal('modalEdit');
                    } else {
                        showPopupError(result.message || 'Gagal memperbarui data.');
                    }
                } catch (err) {
                    console.error(err);
                    showPopupError('Terjadi kesalahan saat memperbarui.');
                }
            });

            // ==== DELETE ====
            async function deletepretext(id) {
                const data = allpretextData.find(p => p.text_id === id);
                if (!data) return showPopupError('Data tidak ditemukan.');

                const confirm = await Swal.fire({
                    title: 'Hapus Data?',
                    text: `Hapus data pretext: ${data.description}?`,
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#d33',
                    cancelButtonColor: '#3085d6',
                    confirmButtonText: 'Hapus',
                    cancelButtonText: 'Batal'
                });

                if (!confirm.isConfirmed) return;

                try {
                    const res = await fetch(`https://dev.katib.cloud/delete/pretextwago/${id}`, {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': 'Bearer DpacnJf3uEQeM7HN'
                        },
                        body: JSON.stringify({ owner_id: 4409, description: data.description, text: data.text })
                    });

                    const result = await res.json();
                    if (res.ok) {
                        showPopupSuccess('Data berhasil dihapus!');
                        allpretextData = allpretextData.filter(p => p.text_id !== id);
                        filteredpretextData = [...allpretextData];
                        renderTablePage();
                        renderPagination(filteredpretextData);
                    } else {
                        showPopupError(result.message || 'Gagal menghapus data.');
                    }
                } catch (err) {
                    console.error(err);
                    showPopupError('Terjadi kesalahan saat menghapus.');
                }
            }

            // ==== TOGGLE STATUS ====
            async function toggleStatus(id, checked) {
                const newStatus = checked ? "on" : "off";

                try {
                    const response = await fetch(`https://dev.katib.cloud/update/statuspretextwago/${id}`, {
                        method: "PUT",
                        headers: {
                            "Content-Type": "application/json",
                            "Authorization": `Bearer DpacnJf3uEQeM7HN`
                        },
                        body: JSON.stringify({ status: newStatus })
                    });

                    if (response.ok) {
                        const result = await response.json();
                        const index = allpretextData.findIndex(item => item.text_id === id);
                        if (index !== -1) {
                            allpretextData[index].status = newStatus;
                        }
                        filteredpretextData = [...allpretextData];
                        renderTablePage();

                        // 🔔 Menampilkan popup sukses
                        showPopupSuccess(`Status berhasil diubah menjadi ${newStatus === "on" ? "Aktif" : "Non-aktif"}!`);
                    } else {
                        showPopupError("Gagal update status.");
                    }


                } catch (error) {
                    console.error("Network error:", error);
                    showPopupError("Terjadi kesalahan jaringan.");
                }
            }







            // ==== MODAL UTILS ====
            function openModal(id) {
                const modal = document.getElementById(id).children[0];
                document.getElementById(id).classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.remove('scale-95', 'opacity-0');
                    modal.classList.add('scale-100', 'opacity-100');
                }, 50);
            }

            function closeModal(id) {
                const modal = document.getElementById(id).children[0];
                modal.classList.remove('scale-100', 'opacity-100');
                modal.classList.add('scale-95', 'opacity-0');
                setTimeout(() => {
                    document.getElementById(id).classList.add('hidden');
                }, 300);
            }

            // ==== SWEETALERT UTILS ====
            function showPopupSuccess(msg) {
                Swal.fire({
                    icon: 'success',
                    title: 'Berhasil',
                    text: msg,
                    showConfirmButton: false,
                    timer: 2000 // popup hilang otomatis dalam 2 detik
                });
            }


            function showPopupError(msg) {
                Swal.fire({ icon: 'error', title: 'Gagal', text: msg, showConfirmButton: false, time: 2000 });
            }
            function showPopup(message) {
                Swal.fire({
                    icon: 'success',
                    title: 'Berhasil',
                    text: message,
                    timer: 2000,
                    showConfirmButton: false
                });
            }

            function showPopupError(message) {
                Swal.fire({
                    icon: 'error',
                    title: 'Gagal',
                    text: message
                });
            }


            // Init load
            window.onload = fetchpretextData;
        </script>

        <script>
            // Cek apakah user sudah login
            document.addEventListener('DOMContentLoaded', () => {
                const isLoggedIn = localStorage.getItem("isLoggedIn");
                if (isLoggedIn !== "true") {
                    Swal.fire({
                        icon: 'warning',
                        title: 'Oops...',
                        text: 'Kamu harus login dulu!',
                        confirmButtonText: 'OK'
                    }).then(() => {
                        window.location.href = 'login.html';
                    });
                } else {
                    // Tampilkan username kalau ada
                    const username = localStorage.getItem("username");
                    if (username) {
                        const el = document.getElementById("usernameDisplay");
                        if (el) el.textContent = username;
                    }
                }
            });

            function logout() {
                Swal.fire({
                    title: 'Yakin ingin logout?',
                    text: "Kamu akan keluar dari akunmu.",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Ya, logout!',
                    cancelButtonText: 'Batal'
                }).then((result) => {
                    if (result.isConfirmed) {
                        // Hapus semua data login
                        localStorage.removeItem("isLoggedIn");
                        localStorage.removeItem("username");

                        Swal.fire({
                            title: 'Berhasil logout!',
                            text: 'Sampai jumpa lagi 😊',
                            icon: 'success',
                            showConfirmButton: false,
                            timer: 1500,
                            didClose: () => {
                                window.location.href = 'login.html';
                            }
                        });
                    }
                });
            }
        </script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const username = localStorage.getItem("username");
                if (username) {
                    document.getElementById("usernameDisplay").textContent = username;
                }
            });
        </script>

    </div>
    </main>
    </div>
    </div>
</body>

</html>