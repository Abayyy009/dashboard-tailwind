<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Tambah Admin</title>
    <script>
        document.getElementById('createAdminForm').addEventListener('submit', async function (e) {
            e.preventDefault();

            const csAdmin = document.getElementById('title').value.trim();
            const phone = document.getElementById('description').value.trim();

            if (!csAdmin || !phone) {
                alert('Mohon isi semua field.');
                return;
            }

            try {
                const response = await fetch('https://dev.katib.cloud/add/adminwago', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer DpacnJf3uEQeM7HN'
                    },
                    body: JSON.stringify({
                        cs_admin: csAdmin,
                        phone: phone
                    })
                });

                const result = await response.json();

                if (response.ok) {
                    alert('Data berhasil disimpan.');
                    // Refresh data tabel atau lakukan tindakan lain sesuai kebutuhan
                } else {
                    alert('Gagal menyimpan data: ' + (result.message || 'Terjadi kesalahan.'));
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Terjadi kesalahan saat mengirim data.');
            }
        });
    </script>

</head>

<body>
    <h2>Tambah Admin</h2>
    <form id="createAdminForm" onsubmit="submitForm(event)">
        <label for="title">Nama Admin</label><br>
        <input type="text" id="title" required><br><br>

        <label for="description">Nomor WhatsApp</label><br>
        <input type="text" id="description" required><br><br>

        <button type="submit">Simpan</button>
    </form>
</body>

</html>