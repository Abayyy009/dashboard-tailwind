<!DOCTYPE html>
<html :class="{ 'theme-dark': dark }" x-data="data()" lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WA-GO Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="./assets/css/tailwind.output.css" />
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
    <script src="./assets/js/init-alpine.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" defer></script>
    <script src="./assets/js/charts-lines.js" defer></script>
    <script src="./assets/js/charts-pie.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
    <div class="flex h-screen bg-gray-50 dark:bg-gray-900" :class="{ 'overflow-hidden': isSideMenuOpen }">
        <!-- Desktop sidebar -->
        <aside class="z-20 hidden w-64 overflow-y-auto bg-white dark:bg-gray-800 md:block flex-shrink-0">
            <div class="py-4 text-gray-500 dark:text-gray-400">
                <a class="ml-6 text-lg font-bold text-gray-800 dark:text-gray-200" href="#">
                    WA-GO
                </a>
                <ul class="mt-6">
                    <li class="relative px-6 py-3">

                        <a class="inline-flex items-center w-full text-sm font-semibold text-gray-800 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200 dark:text-gray-100"
                            href="index.html">
                            <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6">
                                </path>
                            </svg>
                            <span class="ml-4">Dashboard</span>
                        </a>
                    </li>
                </ul>
                <ul>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="admin.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M17 20h5v-2a3 3 0 00-5.356-1.857M9 11a4 4 0 110-8 4 4 0 010 8zm0 0v1a4 4 0 004 4h4" />
                            </svg>
                            <span class="ml-4">Admin</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="tracking.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M9 20l-5.447-2.724A2 2 0 013 15.382V6a2 2 0 012-2h14a2 2 0 012 2v9.382a2 2 0 01-1.553 1.894L15 20V10l-3 3-3-3v10z" />
                            </svg>
                            <span class="ml-4">Tracking</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="pretext.html">
                            <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122">
                                </path>
                            </svg>
                            <span class="ml-4">PreText</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <span class="absolute inset-y-0 left-0 w-1 bg-teal-500 rounded-tr-lg rounded-br-lg"
                            aria-hidden="true"></span>
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="campaign.html">
                            <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">
                                </path>
                            </svg>
                            <span class="ml-4">Campaign</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="addons.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.518 4.674a1 1 0 00.95.69h4.918c.969 0 1.371 1.24.588 1.81l-3.977 2.89a1 1 0 00-.364 1.118l1.518 4.674c.3.921-.755 1.688-1.54 1.118l-3.977-2.89a1 1 0 00-1.176 0l-3.977 2.89c-.784.57-1.838-.197-1.539-1.118l1.518-4.674a1 1 0 00-.364-1.118l-3.977-2.89c-.783-.57-.38-1.81.588-1.81h4.918a1 1 0 00.95-.69l1.518-4.674z" />
                            </svg>
                            <span class="ml-4">AddOns</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="setting.html">
                            <svg class="w-4 h-4 mr-3" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z">
                                </path>
                                <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            <span class="ml-4">Setting</span>
                        </a>
                    </li>
                </ul>

            </div>
        </aside>
        <!-- Mobile sidebar -->
        <!-- Backdrop -->
        <div x-show="isSideMenuOpen" x-transition:enter="transition ease-in-out duration-150"
            x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
            x-transition:leave="transition ease-in-out duration-150" x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0"
            class="fixed inset-0 z-10 flex items-end bg-black bg-opacity-50 sm:items-center sm:justify-center"></div>
        <aside class="fixed inset-y-0 z-20 flex-shrink-0 w-64 mt-16 overflow-y-auto bg-white dark:bg-gray-800 md:hidden"
            x-show="isSideMenuOpen" x-transition:enter="transition ease-in-out duration-150"
            x-transition:enter-start="opacity-0 transform -translate-x-20" x-transition:enter-end="opacity-100"
            x-transition:leave="transition ease-in-out duration-150" x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0 transform -translate-x-20" @click.away="closeSideMenu"
            @keydown.escape="closeSideMenu">
            <div class="py-4 text-gray-500 dark:text-gray-400">
                <a class="ml-6 text-lg font-bold text-gray-800 dark:text-gray-200" href="#">
                    WA-Go
                </a>
                <ul class="mt-6">
                    <li class="relative px-6 py-3">

                        <a class="inline-flex items-center w-full text-sm font-semibold text-gray-800 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200 dark:text-gray-100"
                            href="index.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M3 9.75L12 4l9 5.75M4.5 10.5v8.25A1.5 1.5 0 006 20.25h3.75v-5.25h4.5v5.25H18a1.5 1.5 0 001.5-1.5V10.5" />
                            </svg>
                            <span class="ml-4">Dashboard</span>
                        </a>
                    </li>
                </ul>
                <ul>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="admin.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M17 20h5v-2a3 3 0 00-5.356-1.857M9 11a4 4 0 110-8 4 4 0 010 8zm0 0v1a4 4 0 004 4h4" />
                            </svg>
                            <span class="ml-4">Admin</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="tracking.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M9 20l-5.447-2.724A2 2 0 013 15.382V6a2 2 0 012-2h14a2 2 0 012 2v9.382a2 2 0 01-1.553 1.894L15 20V10l-3 3-3-3v10z" />
                            </svg>
                            <span class="ml-4">Tracking</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="pretext.html">
                            <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122">
                                </path>
                            </svg>
                            <span class="ml-4">PreText</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <span class="absolute inset-y-0 left-0 w-1 bg-teal-500 rounded-tr-lg rounded-br-lg"
                            aria-hidden="true"></span>
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="campaign.html">
                            <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">
                                </path>
                            </svg>
                            <span class="ml-4">Campaign</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="modals.html">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.518 4.674a1 1 0 00.95.69h4.918c.969 0 1.371 1.24.588 1.81l-3.977 2.89a1 1 0 00-.364 1.118l1.518 4.674c.3.921-.755 1.688-1.54 1.118l-3.977-2.89a1 1 0 00-1.176 0l-3.977 2.89c-.784.57-1.838-.197-1.539-1.118l1.518-4.674a1 1 0 00-.364-1.118l-3.977-2.89c-.783-.57-.38-1.81.588-1.81h4.918a1 1 0 00.95-.69l1.518-4.674z" />
                            </svg>
                            <span class="ml-4">AddOns</span>
                        </a>
                    </li>
                    <li class="relative px-6 py-3">
                        <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                            href="modals.html">
                            <svg class="w-4 h-4 mr-3" aria-hidden="true" fill="none" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z">
                                </path>
                                <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            <span class="ml-4">Setting</span>
                        </a>
                    </li>


                </ul>


            </div>
        </aside>
        <div class="flex flex-col flex-1 w-full">
            <header class="z-10 py-4 bg-white shadow-md dark:bg-gray-800">
                <div
                    class="container flex items-center justify-between h-full px-6 mx-auto text-teal-600 dark:text-teal-300">
                    <!-- Mobile hamburger -->
                    <button class="p-1 mr-5 -ml-1 rounded-md md:hidden focus:outline-none focus:shadow-outline-teal"
                        @click="toggleSideMenu" aria-label="Menu">
                        <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
                                clip-rule="evenodd"></path>
                        </svg>
                    </button>

                    <ul class="flex items-center flex-shrink-0 space-x-6 ml-auto">
                        <!-- Theme toggler -->
                        <li class="flex">
                            <button class="rounded-md focus:outline-none focus:shadow-outline-teal" @click="toggleTheme"
                                aria-label="Toggle color mode">
                                <template x-if="!dark">
                                    <svg class="w-5 h-5" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z">
                                        </path>
                                    </svg>
                                </template>
                                <template x-if="dark">
                                    <svg class="w-5 h-5" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd"
                                            d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                                            clip-rule="evenodd"></path>
                                    </svg>
                                </template>
                            </button>
                        </li>
                        <!-- Notifications menu -->

                        <!-- Profile menu -->
                        <li class="relative">
                            <span id="usernameDisplay"
                                class="text-sm font-medium text-gray-700 dark:text-gray-200"></span>
                            <button class="align-middle rounded-full focus:shadow-outline-teal focus:outline-none"
                                @click="toggleProfileMenu" @keydown.escape="closeProfileMenu" aria-label="Account"
                                aria-haspopup="true">
                                <img class="object-cover w-8 h-8 rounded-full" src="assets/img/img.jpg" alt=""
                                    aria-hidden="true" />
                            </button>
                            <template x-if="isProfileMenuOpen">
                                <ul x-transition:leave="transition ease-in duration-150"
                                    x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
                                    @click.away="closeProfileMenu" @keydown.escape="closeProfileMenu"
                                    class="absolute right-0 w-56 p-2 mt-2 space-y-2 text-gray-600 bg-white border border-gray-100 rounded-md shadow-md dark:border-gray-700 dark:text-gray-300 dark:bg-gray-700"
                                    aria-label="submenu">
                                    <li class="flex">
                                        <a class="inline-flex items-center w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800 dark:hover:bg-gray-800 dark:hover:text-gray-200"
                                            href="#">
                                            <svg class="w-4 h-4 mr-3" aria-hidden="true" fill="none"
                                                stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                viewBox="0 0 24 24" stroke="currentColor">
                                                <path
                                                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z">
                                                </path>
                                            </svg>
                                            <span>Profile</span>
                                        </a>
                                    </li>
                                    <li class="flex">
                                        <a class="inline-flex items-center w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800 dark:hover:bg-gray-800 dark:hover:text-gray-200"
                                            href="#">
                                            <svg class="w-4 h-4 mr-3" aria-hidden="true" fill="none"
                                                stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                viewBox="0 0 24 24" stroke="currentColor">
                                                <path
                                                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z">
                                                </path>
                                                <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                            </svg>
                                            <span>Settings</span>
                                        </a>
                                    </li>
                                    <li class="flex">
                                        <a class="inline-flex items-center w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800 dark:hover:bg-gray-800 dark:hover:text-gray-200"
                                            href="javascript:void(0);" onclick="logout()">
                                            <svg class="w-4 h-4 mr-3" aria-hidden="true" fill="none"
                                                stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                viewBox="0 0 24 24" stroke="currentColor">
                                                <path
                                                    d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1">
                                                </path>
                                            </svg>
                                            <span>Log out</span>
                                        </a>
                                    </li>
                                </ul>
                            </template>
                        </li>
                    </ul>
                </div>
            </header>
            <div class="bg-white px-6 py-4 flex items-center justify-between ">
                <!-- Kiri: Judul -->
                <h1 class="text-2xl font-semibold text-gray-800">Detail Campaign</h1>

                <!-- Kanan: Breadcrumb -->
                <nav class="text-sm text-teal-600 space-x-1">
                    <a href="#" class="hover:underline">WA-Go!</a>
                    <span>/</span>
                    <span class="text-gray-500">Detail Campaign</span>
                </nav>
            </div>
            <main class="h-full px-1 py-6 pb-16 overflow-y-auto">
                <div class="container px-6 mx-auto grid">
                    <div class="flex justify-between items-center mb-2">
                        <a href="campaign.html"
                            class="mb-4 px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 text-sm inline-block">
                            ← Back
                        </a>
                    </div>


                    <!-- Link & Stats Card -->
                    <div id="campaignCard" class="bg-teal-50 text-white rounded-lg p-6  relative">
                        <div class="flex flex-col text-gray-600 md:flex-row md:items-center md:justify-between">
                            <div>
                                <p class="text-lg  font-semibold" id="campaignLink">
                                    🔗 <span class="underline">Memuat link...</span>
                                </p>
                                <p class="mt-2" id="clickInfo">Mengambil data klik...</p>
                            </div>
                            <!-- Log Button -->
                            <a href="log_campaign.html" id="logButton"
                                class="absolute top-4 right-4 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded text-sm">
                                🗂 Log
                            </a>

                        </div>
                    </div>


                    <!-- Stats Cards -->
                    <!-- <div class="grid grid-cols-2 md:grid-cols-4 gap-4 my-6">
                    <div class="bg-white rounded-lg shadow p-4 text-center">
                        <div class="text-2xl mb-2">👤</div>
                        <p class="text-sm">Admin</p>
                        <p class="text-xl font-bold">12</p>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4 text-center">
                        <div class="text-2xl mb-2">📥</div>
                        <p class="text-sm">CTA hits</p>
                        <p class="text-xl font-bold">45</p>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4 text-center">
                        <div class="text-2xl mb-2">📋</div>
                        <p class="text-sm">Leads</p>
                        <p class="text-xl font-bold">1,300</p>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4 text-center">
                        <div class="text-2xl mb-2">🛒</div>
                        <p class="text-sm">Purchase</p>
                        <p class="text-xl font-bold">50</p>
                    </div>
                </div> -->
                    <div class="flex justify-between items-center mb-2 mt-4">
                        <button onclick="openModal('modalCreate')"
                            class="mt-4 bg-white text-teal-600 px-4 py-2 rounded shadow hover:bg-gray-100 text-sm font-medium">
                            + Add New Campaign
                        </button>
                        <input type="text" id="searchInput" placeholder="Cari Data Produk"
                            class="border border-gray-300 rounded px-4 py-2 w-1/3 focus:outline-none focus:ring-2 focus:ring-teal-500">
                        <div id="searchLoader" class="flex items-center space-x-2 mt-2 hidden">
                            <div
                                class="w-5 h-5 border-4 border-blue-500 border-t-transparent rounded-full animate-spin">
                            </div>
                            <span class="text-sm text-gray-500">Mencari...</span>
                        </div>
                    </div>


                    <!-- Table -->
                    <!-- Table -->
                    <div class="w-full overflow-hidden rounded-lg shadow-xs">
                        <div class="w-full overflow-x-auto">
                            <table class="w-full whitespace-no-wrap bg-gray-500">
                                <thead>
                                    <tr
                                        class="text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b dark:border-gray-700 bg-teal-50 dark:text-gray-400 dark:bg-gray-800">
                                        <th class="px-4 py-3 text-left">No.</th>
                                        <th class="px-4 py-3 text-left">Admin</th>
                                        <th class="px-4 py-3 text-left">CTA</th>
                                        <th class="px-4 py-3 text-center">Action</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y dark:divide-gray-700 dark:bg-gray-800" id="table-body">
                                    <tr class="text-gray-700 dark:text-gray-400">
                                        <td class="text-center py-4 text-gray-500" colspan="4">Loading data...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <p class="text-sm mt-2" id="pagination">Loading pagination...</p>
                </div>
        </div>

        <!-- Modal Assign Admin -->
        <div id="assignModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
            <div class="bg-white p-6 rounded shadow-lg w-full max-w-md">
                <h2 class="text-xl font-semibold mb-4">Assign Admin</h2>
                <label class="block mb-2">Pilih Admin (CS):</label>
                <select id="adminSelect" class="border border-gray-300 px-3 py-2 w-full rounded mb-4">
                    <option value="">Loading daftar CS...</option>
                </select>

                <div class="flex justify-end gap-2">
                    <button onclick="closeModal()"
                        class="bg-gray-300 hover:bg-gray-400 text-black px-4 py-2 rounded">Cancel</button>
                    <button onclick="submitAssignAdmin()"
                        class="bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded">Submit</button>
                </div>
            </div>
        </div>


        <div id="searchLoader" class="flex justify-center py-4 hidden">
            <svg class="animate-spin h-6 w-6 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none"
                viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor"
                    d="M4 12a8 8 0 018-8v4l3.5-3.5L12 0v4a8 8 0 010 16v-4l-3.5 3.5L12 24v-4a8 8 0 01-8-8z">
                </path>
            </svg>
        </div>


        <!-- Script Animasi Modal -->
        <script>
            document.addEventListener('DOMContentLoaded', async () => {
                const headers = {
                    'Authorization': 'Bearer DpacnJf3uEQeM7HN',
                    'Content-Type': 'application/json'
                };

                const owner_id = 4409;

                // Ambil campaign_id dan page dari URL
                const urlParams = new URLSearchParams(window.location.search);
                const campaign_id = urlParams.get('id'); // ambil dari URL ?id=15
                const page = 1; // bisa ubah ke dynamic nanti kalau perlu pagination

                try {
                    const res = await fetch(`https://dev.katib.cloud/table/detailcampaignwago/${owner_id}/${campaign_id}/${page}`, { headers });

                    if (!res.ok) {
                        throw new Error(`HTTP error! status: ${res.status}`);
                    }

                    const json = await res.json();
                    console.log("Data dari API:", json);

                    const data = json.tableData;
                    const tbody = document.getElementById('table-body');
                    tbody.innerHTML = '';

                    if (!Array.isArray(data) || data.length === 0) {
                        tbody.innerHTML = `<tr><td colspan="4" class="px-4 py-2 text-center text-gray-500">Tidak ada data tersedia.</td></tr>`;
                        document.getElementById('pagination').textContent = 'Total Data: 0';
                        return;
                    }

                    data.forEach((item, index) => {
                        tbody.innerHTML += `
                        <tr id="campaign-${item.cd_id}" class="border-t text-gray-700 dark:text-gray-400 border-b hover:bg-gray-100 transition">
                            <td class="px-4 py-3">${index + 1}</td>
                            <td class="px-4 py-3">${item.cs_admin || '-'}</td>
                            <td class="px-4 py-3">${item.click_count || 0}</td>
                           <td class="px-4 py-2 text-center align-middle">
                        <div class="flex justify-center items-center">
                            <button
                            onclick="deleteCampaign(${item.cd_id})"
                            class="flex items-center gap-1 px-3 py-1.5 text-sm font-medium leading-5 text-red-600 rounded-lg border-2 border-red-600 hover:bg-red-50 transition dark:text-gray-400 focus:outline-none focus:shadow-outline-gray"
                            aria-label="Delete"
                            >
                            <svg
                                class="w-5 h-5"
                                aria-hidden="true"
                                fill="currentColor"
                                viewBox="0 0 20 20"
                            >
                                <path
                                fill-rule="evenodd"
                                d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                                clip-rule="evenodd"
                                ></path>
                            </svg>
                            Delete
                            </button>
                        </div>
                        </td>
                        </tr>
    `;
                    });


                    document.getElementById('pagination').textContent = `Page 1 of 1. Total Data: ${data.length}`;
                } catch (err) {
                    console.error("Gagal fetch data:", err.message || err);
                    document.getElementById('table-body').innerHTML = `
                <tr><td colspan="4" class="px-4 py-2 text-center text-red-600">Gagal memuat data: ${err.message || err}</td></tr>`;
                    document.getElementById('pagination').textContent = '';
                }
            });

            function deleteCampaign(id) {
                if (confirm("Apakah kamu yakin ingin menghapus campaign ini?")) {
                    console.log("Hapus campaign dengan ID:", id);
                }
            }

            function openModal() {
                const modal = document.getElementById('assignModal');
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.children[0].classList.remove('opacity-0', 'scale-95');
                    modal.children[0].classList.add('opacity-100', 'scale-100');
                }, 50);
            }

            function closeModal() {
                const modal = document.getElementById('assignModal');
                modal.classList.add('hidden');

                const adminSelect = document.getElementById('adminSelect');
                if (adminSelect) {
                    adminSelect.value = ''; // reset dropdown jika ada
                }

                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            }



            async function submitAssignAdmin() {
                const cs_id = document.getElementById('adminSelect').value;
                const owner_id = 4409;
                const campaign_id = new URLSearchParams(window.location.search).get('id');

                if (!cs_id || !campaign_id) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'Oops...',
                        text: 'CS Admin atau Campaign ID tidak valid!'
                    });
                    return;
                }

                const data = {
                    owner_id: parseInt(owner_id),
                    campaign_id: parseInt(campaign_id),
                    cs_id: parseInt(cs_id)
                };

                try {
                    const res = await fetch('https://dev.katib.cloud/add/detailcampaignwago', {
                        method: 'POST',
                        headers: {
                            'Authorization': 'Bearer DpacnJf3uEQeM7HN',
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data)
                    });

                    const result = await res.json();

                    if (res.ok) {
                        Swal.fire({
                            icon: 'success',
                            title: 'Berhasil!',
                            text: 'Admin berhasil ditambahkan!'
                        }).then(() => {
                            // Tambah data ke array lokal
                            allCampaignData.push({
                                ...data,
                                cs_name: document.querySelector(`#adminSelect option[value="${cs_id}"]`).textContent
                            });

                            renderTablePage();
                            renderPagination();
                            closeModal();
                        });
                    } else {
                        throw new Error(result.message || "Gagal menambahkan admin.");
                    }
                } catch (err) {
                    Swal.fire({
                        icon: 'error',
                        title: 'Gagal!',
                        text: err.message
                    });
                }
            }



            // Fetch daftar CS untuk dropdown
            async function fetchAdminList() {
                try {
                    const res = await fetch('https://dev.katib.cloud/list/adminwago/4409', {
                        headers: {
                            'Authorization': 'Bearer DpacnJf3uEQeM7HN',
                            'Content-Type': 'application/json'
                        }
                    });

                    const json = await res.json();
                    console.log("Respon dari API:", json);

                    const select = document.getElementById('adminSelect');
                    select.innerHTML = '<option value="">Pilih CS Admin...</option>';

                    if (Array.isArray(json.listData)) {
                        json.listData.forEach(admin => {
                            select.innerHTML += `<option value="${admin.cs_id}">${admin.cs_admin}</option>`;
                        });
                    } else {
                        console.warn("json.listData bukan array atau tidak tersedia:", json.listData);
                        select.innerHTML = '<option value="">Tidak ada CS tersedia</option>';
                    }
                } catch (err) {
                    console.error("Gagal ambil daftar admin:", err);
                    document.getElementById('adminSelect').innerHTML = '<option value="">Gagal load CS</option>';
                }
            }


            // Panggil saat halaman dimuat
            fetchAdminList();


            // Tambahkan listener ke tombol assign
            document.querySelector("button.bg-teal-600").addEventListener("click", openModal);

            function deleteCampaign(id) {
                Swal.fire({
                    title: 'Apakah kamu yakin?',
                    text: "Data ini akan dihapus secara permanen!",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonText: 'Ya, Hapus!',
                    cancelButtonText: 'Batal',
                    reverseButtons: true
                }).then(async (result) => {
                    if (result.isConfirmed) {
                        try {
                            const res = await fetch(`https://dev.katib.cloud/delete/detailcampaignwago/${id}`, {
                                method: 'PUT',
                                headers: {
                                    'Authorization': 'Bearer DpacnJf3uEQeM7HN',
                                    'Content-Type': 'application/json'
                                }
                            });
                            console.log('Response Status:', res.status);

                            if (!res.ok) {
                                throw new Error('Gagal menghapus campaign');
                            }

                            Swal.fire(
                                'Dihapus!',
                                'Campaign telah dihapus.',
                                'success'
                            );

                            // Hapus baris langsung dari tabel DOM
                            const row = document.getElementById(`campaign-${id}`);
                            if (row) row.remove();

                        } catch (err) {
                            Swal.fire(
                                'Gagal!',
                                'Ada masalah saat menghapus campaign.',
                                'error'
                            );
                        }
                    }
                });
            }

            document.addEventListener("DOMContentLoaded", async () => {
                const campaignId = new URLSearchParams(window.location.search).get("id");
                const ownerId = 4409;

                try {
                    const res = await fetch(`https://dev.katib.cloud/summary/detailcampaignwago/${ownerId}/${campaignId}`, {
                        method: 'GET',
                        headers: {
                            'Authorization': 'Bearer DpacnJf3uEQeM7HN',
                            'Content-Type': 'application/json'
                        }
                    });

                    const data = await res.json();
                    console.log("Respon dari API:", data);

                    const detail = data.data;

                    // Update konten di HTML
                    document.getElementById("campaignLink").innerHTML = `
            🔗 <a href="${detail.url}" target="_blank" class="underline">${detail.url}</a>
        `;
                    document.getElementById("clickInfo").innerHTML = `
            Dari link yang kamu bagikan, saat ini sudah mendapatkan klik sebanyak <strong>${detail.click_count} Click</strong>
        `;

                } catch (err) {
                    console.error("Error saat memuat campaign:", err);
                }
            });


            document.addEventListener('DOMContentLoaded', loadCampaignData);


            const allCampaignData = []; // Global untuk simpan semua data

            async function loadCampaignData() {
                const campaign_id = new URLSearchParams(window.location.search).get('id');
                const owner_id = 4409;

                try {
                    const res = await fetch(`https://dev.katib.cloud/table/detailcampaignwago/${owner_id}/${campaign_id}/1`, {
                        headers: {
                            'Authorization': 'Bearer DpacnJf3uEQeM7HN',
                            'Content-Type': 'application/json'
                        }
                    });

                    const json = await res.json();
                    const data = json.tableData;

                    if (!Array.isArray(data)) throw new Error('Data tidak valid');
                    allCampaignData.length = 0;
                    allCampaignData.push(...data); // Simpan ke global

                    renderTable(data);
                } catch (err) {
                    document.getElementById('table-body').innerHTML = `
                <tr><td colspan="4" class="px-4 py-2 text-center text-red-600">Gagal memuat data: ${err.message}</td></tr>`;
                    document.getElementById('pagination').textContent = '';
                }
            }

            function renderTable(data) {
                const tbody = document.getElementById('table-body');
                tbody.innerHTML = '';

                if (data.length === 0) {
                    tbody.innerHTML = `<tr><td colspan="4" class="px-4 py-2 text-center text-gray-500">Tidak ada data ditemukan.</td></tr>`;
                } else {
                    data.forEach((item, index) => {
                        tbody.innerHTML += `
                    <tr id="campaign-${item.cd_id}" class="border-t">
                        <td class="px-4 py-2">${index + 1}</td>
                        <td class="px-4 py-2">${item.cs_admin || '-'}</td>
                        <td class="px-4 py-2">${item.click_count || 0}</td>
                        <td class="px-4 py-2 text-center align-middle">
                        <div class="flex justify-center items-center">
                            <button
                            onclick="deleteCampaign(${item.cd_id})"
                            class="flex items-center gap-1 px-3 py-1.5 text-sm font-medium leading-5 text-red-600 rounded-lg border-2 border-red-600 hover:bg-red-50 transition dark:text-gray-400 focus:outline-none focus:shadow-outline-gray"
                            aria-label="Delete"
                            >
                            <svg
                                class="w-5 h-5"
                                aria-hidden="true"
                                fill="currentColor"
                                viewBox="0 0 20 20"
                            >
                                <path
                                fill-rule="evenodd"
                                d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                                clip-rule="evenodd"
                                ></path>
                            </svg>
                            Delete
                            </button>
                        </div>
                        </td>

                    </tr>
                `;
                    });
                }

                document.getElementById('pagination').textContent = `Total Data: ${data.length}`;
            }

            // Fitur Live Search
            document.getElementById('searchInput').addEventListener('input', function () {
                const query = this.value.trim().toLowerCase();
                const tbody = document.getElementById('table-body');

                // Tampilkan loader di tabel
                tbody.innerHTML = `
            <tr>
                <td colspan="4" class="text-center py-4 text-gray-500">
                    <div class="flex justify-center items-center gap-2">
                        <svg class="animate-spin h-5 w-5 text-teal-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path>
                        </svg>
                        <span>Mencari data...</span>
                    </div>
                </td>
            </tr>`;

                setTimeout(() => {
                    if (query === '') {
                        renderTable(allCampaignData); // Kembali tampilkan semua data
                    } else {
                        const filtered = allCampaignData.filter(item =>
                            (item.cs_admin || '').toLowerCase().includes(query) ||
                            (item.click_count || '').toString().includes(query)
                        );
                        renderTable(filtered);
                    }
                }, 200); // Delay ringan untuk UX
            });
            document.addEventListener('DOMContentLoaded', () => {
                const logButton = document.getElementById('logButton');

                // Ambil campaign_id dari URL sekarang
                const urlParams = new URLSearchParams(window.location.search);
                const campaign_id = urlParams.get('id');

                // Debugging
                console.log("Dari tombol log: campaign_id =", campaign_id);

                if (campaign_id) {
                    // Tambahkan parameter campaign_id ke href tombol Log
                    logButton.href = `log_campaign.html?id=${campaign_id}`;
                }
            });
            const urlParams = new URLSearchParams(window.location.search);
            const campaign_id = urlParams.get('id');
            console.log("✅ campaign_id dari URL:", campaign_id); // Harusnya bukan null


        </script>
        <script>
            // Cek apakah user sudah login
            document.addEventListener('DOMContentLoaded', () => {
                const isLoggedIn = localStorage.getItem("isLoggedIn");
                if (isLoggedIn !== "true") {
                    Swal.fire({
                        icon: 'warning',
                        title: 'Oops...',
                        text: 'Kamu harus login dulu!',
                        confirmButtonText: 'OK'
                    }).then(() => {
                        window.location.href = 'login.html';
                    });
                } else {
                    // Tampilkan username kalau ada
                    const username = localStorage.getItem("username");
                    if (username) {
                        const el = document.getElementById("usernameDisplay");
                        if (el) el.textContent = username;
                    }
                }
            });

            function logout() {
                Swal.fire({
                    title: 'Yakin ingin logout?',
                    text: "Kamu akan keluar dari akunmu.",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Ya, logout!',
                    cancelButtonText: 'Batal'
                }).then((result) => {
                    if (result.isConfirmed) {
                        // Hapus semua data login
                        localStorage.removeItem("isLoggedIn");
                        localStorage.removeItem("username");

                        Swal.fire({
                            title: 'Berhasil logout!',
                            text: 'Sampai jumpa lagi 😊',
                            icon: 'success',
                            showConfirmButton: false,
                            timer: 1500,
                            didClose: () => {
                                window.location.href = 'login.html';
                            }
                        });
                    }
                });
            }
        </script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const username = localStorage.getItem("username");
                if (username) {
                    document.getElementById("usernameDisplay").textContent = username;
                }
            });
        </script>

    </div>
    </main>
    </div>

    </div>
</body>

</html>